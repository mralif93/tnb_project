{"version":3,"sources":["../../src/pages/tnb-seal/sealsweep/sealsweep.ts","../../src/pages/tnb-seal/sealsweep/sealsweep.module.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { Component } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport { IonicPage, NavController, NavParams, App, AlertController, LoadingController } from 'ionic-angular';\nimport { GlobalVars } from './../../../providers/common/global-vars';\nimport { GlobalFunction } from '../../../providers/common/global-function';\nimport { BarcodeScanner, BarcodeScannerOptions } from '@ionic-native/barcode-scanner';\nimport { DataServiceProvider } from './../../../providers/data-service/data-service';\n\n/**\n * Generated class for the SealsweepPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-sealsweep',\n  templateUrl: 'sealsweep.html',\n  providers: [DatePipe]\n})\nexport class SealsweepPage {\n\n  public lead: String;\n  public assetnum: String;\n  public actstart: String = new Date().toISOString();\n  public options: BarcodeScannerOptions;\n\n  constructor(\n    private alertCtrl: AlertController,\n    private barcodeScanner: BarcodeScanner,\n    private datePipe: DatePipe,\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private dataService: DataServiceProvider,\n    public loadingCtrl: LoadingController,\n    public appCtrl: App,\n    public gv: GlobalVars,\n    public gf: GlobalFunction\n  ) {\n  }\n\n  ionViewDidLoad() {\n\n    this.lead = this.gv.personid;\n  }\n\n  /**\n   * Navigation to WO-Home page... \n   */\n  goBack() {\n\n    let newRootNav = <NavController>this.appCtrl.getRootNavById('n4');\n    newRootNav.push(\"WoHomePage\", '');\n  }\n\n  /**\n   * Submitting Save Options\n   */\n  submitCreateWorkorder() {\n\n    let loading = this.loadingCtrl.create({\n      content: this.gv.loadingContent\n    });\n    loading.present();\n    this.gf.loadingTimer(loading);\n    var jsonContent = this.setJson();\n    this.dataService.sealSweep(jsonContent).then(results => {\n\n      var respResult: any = results;\n      if (respResult.processStatus === 'success') {\n        let alert = this.alertCtrl.create({\n\n          title: 'Success !',\n          subTitle: respResult.description.toString(),\n          buttons: [{\n            text: 'Ok',\n            handler: () => {\n              loading.dismiss();\n              // let newRootNav = <NavController>this.appCtrl.getRootNavById('n4');\n              // newRootNav.push(\"WoHomePage\", '');\n              this.navCtrl.setRoot(\"WoHomePage\");\n            }\n          }]\n        });\n        alert.present();\n      }\n      else {\n\n        let alert = this.alertCtrl.create({\n\n          title: 'Error !',\n          subTitle: respResult.description.toString(),\n          buttons: [{\n            text: 'Ok',\n            handler: () => {\n\n              loading.dismiss();\n            }\n          }]\n        });\n        alert.present();\n      }\n    });\n  }\n\n  /**\n   * Create Valid Json for save and submitting...\n   * @param saveType \n   */\n  setJson() {\n\n    var resValue = {\n      \"ASSETNUM\": this.assetnum,\n      \"ACTSTART\": this.datePipe.transform(this.actstart, 'yyyyMMdd'),\n      \"LEAD\": this.lead,\n      \"DEPARTMENT\": this.gv.department\n    }\n    return resValue;\n  }\n\n  /**\n   * BarCode Tab Scanner...\n   */\n  barcodeScan() {\n\n    this.options = {\n      prompt: \"Scan your barcode \"\n    }\n    this.barcodeScanner.scan(this.options).then(\n      (barcodeData) => {\n        this.assetnum = barcodeData.text.trim();\n      });\n  }\n\n\n  /**\n   * Display Message Function\n   * @param message \n   */\n  displayErrorAlert(message) {\n\n    let alert = this.alertCtrl.create({\n      title: 'Alert !',\n      subTitle: message,\n      buttons: [{\n        text: 'Ok',\n        handler: () => {\n        }\n      }]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tnb-seal/sealsweep/sealsweep.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SealsweepPage } from './sealsweep';\n\n@NgModule({\n  declarations: [\n    SealsweepPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SealsweepPage),\n  ],\n})\nexport class SealsweepPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tnb-seal/sealsweep/sealsweep.module.ts"],"sourceRoot":""}