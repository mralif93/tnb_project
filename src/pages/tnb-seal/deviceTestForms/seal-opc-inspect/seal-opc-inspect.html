<ion-header mode="md">
  <ion-navbar color="primary">
    <ion-title>OPC Inspection</ion-title>
    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon [color]="gv.testMobile ? 'danger' : 'light'" name="md-planet" class="flash_plnt"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!-- OPC Inspection (Test List) -->
  <ion-item-divider color="light">
    <ion-row align-items-center>
      <ion-col col-12 col-sm-12 col-md-8 (click)="showTestListSection(1)">
        <ion-icon name="flask"></ion-icon>&nbsp; <strong text-uppercase>Test List Selection</strong>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
        <button ion-button small round mode="md" (click)="resetAllTestInspection()" style="opacity: unset;"
          text-end>Reset All</button>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-1 style="word-wrap:  break-all; padding-left: 5px;text-align: right"
        (click)="showTestListSection(1)">
        <ion-icon name="arrow-forward" style="zoom: 1.5;" *ngIf="!showTestList"></ion-icon>
        <ion-icon name="arrow-down" style="zoom: 1.5;" *ngIf="showTestList"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-item-divider>

  <ion-row radio-group [(ngModel)]="testCategory" *ngIf="showTestList" (ionChange)="selectionTestList($event)">
    <ion-col col-sm-12 col-md-9 col-11 align-self-end>
      <ion-item text-wrap>
        <ion-label text-uppercase>Physical Inspection Test</ion-label>
        <ion-radio value="pit"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validatePhysicalTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col>
      <button ion-button small round mode="md" (click)="resetTest('pit')" style="opacity: unset;"
        text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH">
      <ion-item text-wrap>
        <ion-label text-uppercase>Current Comparison Test</ion-label>
        <ion-radio value="curr"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH"
      style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateCurrentComparisonTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH">
      <button ion-button small round mode="md" (click)="resetTest('curr')" style="opacity: unset;"
        text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH">
      <ion-item text-wrap>
        <ion-label text-uppercase>Terminal Meter Polarity Test</ion-label>
        <ion-radio value="pt"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH"
      style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validatePolarityTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH">
      <button ion-button small round mode="md" (click)="resetTest('pt')" style="opacity: unset;" text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end>
      <ion-item text-wrap>
        <ion-label text-uppercase>Accuracy Test</ion-label>
        <ion-radio value="acct"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateAccuracyTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col>
      <button ion-button small round mode="md" (click)="resetTest('acct')" style="opacity: unset;"
        text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_1PH">
      <ion-item text-wrap>
        <ion-label text-uppercase>Neutral Test</ion-label>
        <ion-radio value="nt"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_1PH"
      style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateNeutralTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_1PH">
      <button ion-button small round mode="md" (click)="resetTest('nt')" style="opacity: unset;" text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end>
      <ion-item text-wrap>
        <ion-label text-uppercase>Magnet Test</ion-label>
        <ion-radio value="mt"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateMagnetTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col>
      <button ion-button small round mode="md" (click)="resetTest('mt')" style="opacity: unset;" text-end>Clear</button>
    </ion-col>
    <ion-col col-sm-12 col-md-9 col-11 align-self-end>
      <ion-item text-wrap>
        <ion-label text-uppercase>Meter Register Test</ion-label>
        <ion-radio value="mrt"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateMeterRegisterTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col>
    <ion-col>
      <button ion-button small round mode="md" (click)="resetTest('mrt')" style="opacity: unset;"
        text-end>Clear</button>
    </ion-col>
    <!-- <ion-col col-sm-12 col-md-9 col-11 align-self-end>
      <ion-item text-wrap>
        <ion-label text-uppercase>Witness & Examiner Section</ion-label>
        <ion-radio value="wes"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col col-sm-1 col-md-1 col-1 align-self-center
      style="text-align: center;">
      <ion-icon ios="md-checkmark-circle-outline" md="md-checkmark-circle-outline"
        [ngClass]="(validateWitnessExaminerTest === true) ? 'complete-color' : 'uncomplete-color'"></ion-icon>
    </ion-col> -->
  </ion-row>

  <!--Starting for Single phase OPC  -->
  <div *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_1PH">

    <!-- PHYSICAL EXAMINATION -->
    <span *ngIf="viewPhysicalTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong> PHYSICAL EXAMINATION</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetPhysical()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowPhysical()" [(ngModel)]="physical.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <span *ngIf="physical.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="physical.ta0naremarks"
                [ngClass]="(physical.ta0naremarks == '' || physical.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
      <span *ngIf="!physical.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Tampering Suspect</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" placeholder="Please enter value" [(ngModel)]="physical.ta0ts_meter"
                [ngClass]="(physical.ta0ts_meter == '' || physical.ta0ts_meter == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- Close Because Already Have in Sil & Sticker Page (Alif : 28/03/2019) -->
        <!-- <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" style="min-width:20%">Terminal condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-select interface="popover" [(ngModel)]="meterCoverArray.ta0sealcondition"
              [ngClass]="(meterCoverArray.ta0sealcondition == '' || meterCoverArray.ta0sealcondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-option value="K">KOYAK</ion-option>
              <ion-option value="O">OK</ion-option>
              <ion-option value="P">PUTUS</ion-option>
              <ion-option value="T">TIDAK OK</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" style="min-width:20%">Meter condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-select interface="popover" [(ngModel)]="terminalCoverArray.ta0sealcondition"
              [ngClass]="(terminalCoverArray.ta0sealcondition == '' || terminalCoverArray.ta0sealcondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-option value="K">KOYAK</ion-option>
              <ion-option value="O">OK</ion-option>
              <ion-option value="P">PUTUS</ion-option>
              <ion-option value="T">TIDAK OK</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Sticker Safety condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" placeholder="Enter Safety" [(ngModel)]="sterminalCoverArray.ta0stickercondition"
              [ngClass]="(sterminalCoverArray.ta0stickercondition == '' || sterminalCoverArray.ta0stickercondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row> -->
      </span>
    </span>

    <!-- ACCURACY TEST -->
    <span *ngIf="viewAccuracyTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp; <strong>ACCURACY TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetAccuracy()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowMeter()" [(ngModel)]="accuracy.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <div *ngIf="accuracy.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter"
                [(ngModel)]="accuracy.ta0naremarks"
                [ngClass]="(accuracy.ta0naremarks == '' || accuracy.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="!accuracy.ta0na">

        <!-- Segment -->
        <ion-row style="padding-top: 15px;padding-left: 15px;">
          <ion-col col-sm-12 col-md-12 col-12>
            <ion-segment [(ngModel)]="valueChangeAccuracy">
              <ion-segment-button value="before">
                Before
              </ion-segment-button>
              <ion-segment-button value="after">
                After
              </ion-segment-button>
            </ion-segment>
          </ion-col>
        </ion-row>

        <div [ngSwitch]="valueChangeAccuracy">
          <div *ngSwitchCase="'before'">
            <ion-row>
              <ion-col col-6 col-sm-12 col-md-3>
                <ion-item>
                  <ion-label color="primary">Accuracy Type</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-6 col-sm-12 col-md-9>
                <ion-item>
                  <ion-select interface="popover" (ionChange)="hideShowTypeAccuracy()"
                    [(ngModel)]="accuracy.ta0testind">
                    <ion-option value="P">Portable</ion-option>
                    <ion-option value="M">Manual</ion-option>
                  </ion-select>
                </ion-item>
              </ion-col>
            </ion-row>

            <div *ngIf="portable">
              <ion-row>
                <ion-col col-6 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Portable Test Set</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-6 col-sm-12 col-md-8>
                  <ion-item>
                    <ion-input type="text" maxlength="18" placeholder="Serial No."
                      [(ngModel)]="accuracy.ta0at_pteserialnum" (ionChange)="errorAvg()"
                      (keyup)="outputAplhaNumeric($event,'1PAccuracyPTE')"
                      [ngClass]="((accuracy.ta0at_pteserialnum == '' || accuracy.ta0at_pteserialnum == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-1 col-md-1 col-sm-1 style="word-wrap:  break-all; padding-left: 5px; text-align: right;">
                  <button ion-button (click)="barcodeScan('1phase')">
                    <ion-icon name="barcode" item-right></ion-icon>
                  </button>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-3 col-sm-3 col-md-3>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>First</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Second</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Third</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>

              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Voltage</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_voltage_r" (keyup)="checkDecimalLength8($event,'1PVoltageR')"
                      [ngClass]="((accuracy.ta0at_voltage_r == '' || accuracy.ta0at_voltage_r == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_voltage_y" (keyup)="checkDecimalLength8($event,'1PVoltageY')"
                      [ngClass]="((accuracy.ta0at_voltage_y == '' || accuracy.ta0at_voltage_y == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_voltage_b" (keyup)="checkDecimalLength8($event,'1PVoltageB')"
                      [ngClass]="((accuracy.ta0at_voltage_b == '' || accuracy.ta0at_voltage_b == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Current</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_current_r" (keyup)="checkDecimalLength8($event,'1PCurrentR')"
                      [ngClass]="((accuracy.ta0at_current_r == '' || accuracy.ta0at_current_r == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_current_y" (keyup)="checkDecimalLength8($event,'1PCurrentY')"
                      [ngClass]="((accuracy.ta0at_current_y == '' || accuracy.ta0at_current_y == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_current_b" (keyup)="checkDecimalLength8($event,'1PCurrentB')"
                      [ngClass]="((accuracy.ta0at_current_b == '' || accuracy.ta0at_current_b == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>

              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Power (W)</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_power_r" (keyup)="checkDecimalLength8($event,'1PPWR_R')"
                      [ngClass]="((accuracy.ta0at_power_r == '' || accuracy.ta0at_power_r == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Yellow "
                      [(ngModel)]="accuracy.ta0at_power_y" (keyup)="checkDecimalLength8($event,'1PPWR_Y')"
                      [ngClass]="((accuracy.ta0at_power_y == '' || accuracy.ta0at_power_y == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Blue " [(ngModel)]="accuracy.ta0at_power_b"
                      (keyup)="checkDecimalLength8($event,'1PPWR_B')"
                      [ngClass]="((accuracy.ta0at_power_b == '' || accuracy.ta0at_power_b == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Power Factor</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_powerfactor_r" (keyup)="checkNegative($event,'1PPWRR_R')"
                      [ngClass]="((accuracy.ta0at_powerfactor_r == '' || accuracy.ta0at_powerfactor_r == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_powerfactor_y" (keyup)="checkNegative($event,'1PPWRR_Y')"
                      [ngClass]="((accuracy.ta0at_powerfactor_y == '' || accuracy.ta0at_powerfactor_y == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_powerfactor_b" (keyup)="checkNegative($event,'1PPWRR_B')"
                      [ngClass]="((accuracy.ta0at_powerfactor_b == '' || accuracy.ta0at_powerfactor_b == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Constant</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="12" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_constant_1" (keyup)="checkIntergerVal($event,'cont1single')"
                      [ngClass]="((accuracy.ta0at_constant_1 == '' || accuracy.ta0at_constant_1 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="12" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_constant_2" (keyup)="checkIntergerVal($event,'cont2single')"
                      [ngClass]="((accuracy.ta0at_constant_2 == '' || accuracy.ta0at_constant_2 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="12" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_constant_3" (keyup)="checkIntergerVal($event,'cont3single')"
                      [ngClass]="((accuracy.ta0at_constant_3 == '' || accuracy.ta0at_constant_3 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item no-lines></ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 1</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 2</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 3</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First " [(ngModel)]="accuracy.ta0at_test1"
                      (keyup)="checkNegative($event,'1PError_1')" step="0.000" type="number" (ionChange)="errorAvg()"
                      [ngClass]="((accuracy.ta0at_test1 == '' || accuracy.ta0at_test1 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second " [(ngModel)]="accuracy.ta0at_test2"
                      (keyup)="checkNegative($event,'1PError_2')" (ionChange)="errorAvg()"
                      [ngClass]="((accuracy.ta0at_test2 == '' || accuracy.ta0at_test2 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third " [(ngModel)]="accuracy.ta0at_test3"
                      (keyup)="checkNegative($event,'1PError_3')" (ionChange)="errorAvg()"
                      [ngClass]="((accuracy.ta0at_test3 == '' || accuracy.ta0at_test3 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-3 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error Average</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="%Error average " [readonly]="true"
                      [(ngModel)]="accuracy.ta0at_avg"></ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </div>
            <div *ngIf="!portable">
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>First</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Second</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Third</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Time Calculated</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_timecalc_1" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'TC1')"
                      [ngClass]="((accuracy.ta0at_timecalc_1 == '' || accuracy.ta0at_timecalc_1 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_timecalc_2" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'TC2')"
                      [ngClass]="((accuracy.ta0at_timecalc_2 == '' || accuracy.ta0at_timecalc_2 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_timecalc_3" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'TC3')"
                      [ngClass]="((accuracy.ta0at_timecalc_3 == '' || accuracy.ta0at_timecalc_3 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Real Time</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First "
                      [(ngModel)]="accuracy.ta0at_timemeas_1" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'RT1')"
                      [ngClass]="((accuracy.ta0at_timemeas_1 == '' || accuracy.ta0at_timemeas_1 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second "
                      [(ngModel)]="accuracy.ta0at_timemeas_2" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'RT2')"
                      [ngClass]="((accuracy.ta0at_timemeas_2 == '' || accuracy.ta0at_timemeas_2 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third "
                      [(ngModel)]="accuracy.ta0at_timemeas_3" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'RT3')"
                      [ngClass]="((accuracy.ta0at_timemeas_3 == '' || accuracy.ta0at_timemeas_3 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item no-lines></ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 1</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 2</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 3</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Auto Calculation " [(ngModel)]="accuracy.ta0at_test1"
                      step="0.01" [readonly]="true"
                      [ngClass]="((accuracy.ta0at_test1 == '' || accuracy.ta0at_test1 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Auto Calculation " [(ngModel)]="accuracy.ta0at_test2"
                      [readonly]="true"
                      [ngClass]="((accuracy.ta0at_test2 == '' || accuracy.ta0at_test2 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Auto Calculation " [(ngModel)]="accuracy.ta0at_test3"
                      [readonly]="true"
                      [ngClass]="((accuracy.ta0at_test3 == '' || accuracy.ta0at_test3 == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-3 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error Average</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Auto Calculate" [readonly]="true"
                      [(ngModel)]="accuracy.ta0at_avg"
                      [ngClass]="((accuracy.ta0at_avg == '' || accuracy.ta0at_avg == undefined) && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </div>
          </div>
          <div *ngSwitchCase="'after'">
            <!-- Current Date: Start -->
            <ion-row>
              <ion-col>
                <ion-item>
                  <ion-label color="primary">Date</ion-label>
                </ion-item>
              </ion-col>
              <ion-col>
                <ion-item>
                  <ion-datetime [(ngModel)]="accuracy3P_N.ta4ma_date" max="3000-12-31" displayFormat="DD/MM/YYYY"
                    pickerFormat="DD:MM:YYYY" placeholder="Tap to select.." style="padding: 0px;">
                  </ion-datetime>
                </ion-item>
              </ion-col>
            </ion-row>
            <!-- Current Date: End -->
            <ion-row>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 1</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 2</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 3</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Average</ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test1" [(ngModel)]="accuracy3P_N.ta4ma_test1"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" placeholder="Enter value"
                    [ngClass]="((accuracy3P_N.ta4ma_test1 == '' || accuracy3P_N.ta4ma_test1 == undefined) && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test2" [(ngModel)]="accuracy3P_N.ta4ma_test2"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" maxlength="13" placeholder="Enter value"
                    [ngClass]="((accuracy3P_N.ta4ma_test2 == '' || accuracy3P_N.ta4ma_test2 == undefined) && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test3" [(ngModel)]="accuracy3P_N.ta4ma_test3"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" maxlength="13" placeholder="Enter value"
                    [ngClass]="((accuracy3P_N.ta4ma_test3 == '' || accuracy3P_N.ta4ma_test3 == undefined) && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="average" [(ngModel)]="accuracy3P_N.ta4ma_avg" type="number" readonly
                    placeholder="Auto Calculate"></ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </div>
        </div>
      </div>
    </span>

    <!-- NEUTRAL TEST -->
    <span *ngIf="viewNeutralTest">
      <ion-item-divider color="light">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp; <strong>NEUTRAL TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetNeutral()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowNeutral()" [(ngModel)]="neutral.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <div *ngIf="neutral.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter "
                [(ngModel)]="neutral.ta0naremarks"
                [ngClass]="(neutral.ta0naremarks == '' || neutral.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="!neutral.ta0na">
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item no-lines style="background: #FFCCCC;border-radius: 10px;">
              <ion-label text-center>Comparison Of Current Reading</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-label color="primary">Phase (AMP)</ion-label>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Phase (AMP)" [(ngModel)]="neutral.ta0nt_phase"
                (keyup)="checkDecimalLength8($event,'phase')"
                [ngClass]="(neutral.ta0nt_phase == '' || neutral.ta0nt_phase == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label color="primary">Neutral (AMP)</ion-label>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Neutral (AMP)" [(ngModel)]="neutral.ta0nt_neutral"
                (keyup)="checkDecimalLength8($event,'neutral')"
                [ngClass]="(neutral.ta0nt_neutral == '' || neutral.ta0nt_neutral == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item no-lines style="background: #FFCCCC;border-radius: 10px;">
              <ion-label text-center>Terminal Meter Polarity Test</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-label color="primary" text-center>Incoming</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col col-6 col-sm-6 col-md-6>
            <ion-list radio-group [(ngModel)]="neutral.ta0nt_in_life">
              <ion-row>
                <ion-col>
                  <ion-item>
                    <ion-label color="primary">Life</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_in_life == '' || neutral.ta0nt_in_life == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Ya</ion-label>
                    <ion-radio value="Y"></ion-radio>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_in_life == '' || neutral.ta0nt_in_life == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Tidak</ion-label>
                    <ion-radio value="N"></ion-radio>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-col>
          <ion-col col-6 col-sm-6 col-md-6>
            <ion-list radio-group [(ngModel)]="neutral.ta0nt_in_neutral">
              <ion-row>
                <ion-col>
                  <ion-item>
                    <ion-label color="primary">Neutral</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_in_neutral == '' || neutral.ta0nt_in_neutral == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Ya</ion-label>
                    <ion-radio value="Y"></ion-radio>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_in_neutral == '' || neutral.ta0nt_in_neutral == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Tidak</ion-label>
                    <ion-radio value="N"></ion-radio>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-label color="primary" text-center>Outgoing</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>

          <ion-col col-6 col-sm-6 col-md-6>
            <ion-list radio-group [(ngModel)]="neutral.ta0nt_out_life">
              <ion-row>
                <ion-col>
                  <ion-item>
                    <ion-label color="primary">Life</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_out_life == '' || neutral.ta0nt_out_life == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Ya</ion-label>
                    <ion-radio value="Y"></ion-radio>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_out_life == '' || neutral.ta0nt_out_life == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Tidak</ion-label>
                    <ion-radio value="N"></ion-radio>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-col>
          <ion-col col-6 col-sm-6 col-md-6>
            <ion-list radio-group [(ngModel)]="neutral.ta0nt_out_neutral">
              <ion-row>
                <ion-col>
                  <ion-item>
                    <ion-label color="primary">Neutral</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_out_neutral == '' || neutral.ta0nt_out_neutral == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Ya</ion-label>
                    <ion-radio value="Y"></ion-radio>
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item
                    [ngClass]="(neutral.ta0nt_out_neutral == '' || neutral.ta0nt_out_neutral == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    <ion-label>Tidak</ion-label>
                    <ion-radio value="N"></ion-radio>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-list>
          </ion-col>
        </ion-row>
      </div>
    </span>

    <!-- MAGNET TEST -->
    <span *ngIf="viewMagnetTest">
      <ion-item-divider color="light">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp; <strong>MAGNET TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetMagnet()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowMagnet()" [(ngModel)]="magnet.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <span *ngIf="magnet.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="magnet.ta0naremarks"
                [ngClass]="(magnet.ta0naremarks == '' || magnet.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
      <span *ngIf="!magnet.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Results</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-select interface="popover" [(ngModel)]="magnet.loc_ta0mt_magnet_result" placeholder="Choose value"
                (ionChange)="changeUiViewMagentTest($event)">
                <ion-option value=""></ion-option>
                <ion-option value="Ada">Ada</ion-option>
                <ion-option value="Tiada">Tiada</ion-option>
                <ion-option value="Lain2">Lain-lain</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="magnetMeter">
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="magnet.ta0mt_magnet_result"
                [ngClass]="(magnet.ta0mt_magnet_result == '' || magnet.ta0mt_magnet_result == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
    </span>

    <!-- TAMPERING ANOMLY -->
    <!-- <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>TAMPERING ANOMALY</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Not Applicable</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-select interface="popover" [(ngModel)]="tampering.loc_test_ta0na" (ionChange)="hideShowTampering()">
            <ion-option value="Y">Yes</ion-option>
            <ion-option value="N">No</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <div *ngIf="tampering.ta0na">
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Remarks</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
              [(ngModel)]="tampering.ta0naremarks"
              [ngClass]="(tampering.ta0naremarks == '' || tampering.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
    <div *ngIf="!tampering.ta0na">
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Main</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalymain" [readonly]="true"
              [ngClass]="(tampering.ta0anomalymain == '' || tampering.ta0anomalymain == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('main')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Category</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalycategory" [readonly]="true"
              [ngClass]="(tampering.ta0anomalycategory == '' || tampering.ta0anomalycategory == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('category')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Type</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalytype" [readonly]="true"
              [ngClass]="(tampering.ta0anomalytype == '' || tampering.ta0anomalytype == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('type')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </div> -->

    <!-- CORRECTIVE ACTION -->
    <!-- Closed (Alif : 01/04/2019) -->
    <!--
    <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>CORRECTIVE ACTION</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Not Applicable</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-select interface="popover" (ionChange)="hideShowCorrective()" [(ngModel)]="corrective.loc_test_ta0na">
            <ion-option value="Y">Yes</ion-option>
            <ion-option value="N">No</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <div *ngIf="corrective.ta0na">
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Remarks</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
              [(ngModel)]="corrective.ta0naremarks"
              [ngClass]="(corrective.ta0naremarks == '' || corrective.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
    <div *ngIf="!corrective.ta0na">
       <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Action</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="corrective.ta0at_corrective_action"
              [ngClass]="(corrective.ta0at_corrective_action == '' || corrective.ta0at_corrective_action == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('corrective')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" text-center>Accuracy Test After Correction</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">%Error 1 :</ion-label>
            <ion-input type="text" maxlength="11" placeholder="%Error 1" [(ngModel)]="corrective.ta0at_test1"
              (keyup)="checkNegative($event,'correctiveErr1')"
              [ngClass]="(corrective.ta0at_test1 == '' || corrective.ta0at_test1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">%Error 2 :</ion-label>
            <ion-input type="text" maxlength="11" placeholder="%Error 2" [(ngModel)]="corrective.ta0at_test2"
              (keyup)="checkNegative($event,'correctiveErr2')"
              [ngClass]="(corrective.ta0at_test2 == '' || corrective.ta0at_test2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">%Error 3 :</ion-label>
            <ion-input type="text" maxlength="11" placeholder="%Error 3" [(ngModel)]="corrective.ta0at_test3"
              (keyup)="checkNegative($event,'correctiveErr3')"
              [ngClass]="(corrective.ta0at_test3 == '' || corrective.ta0at_test3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
  </div> -->

    <!-- Inspection Remarks  -->
    <!-- Added : Ameer (11/4/2019) -->
    <!--   <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>INSPECTION REMARK</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider> -->
    <!--  <ion-row col-12 col-md-12 col-sm-12>
      <ion-col>
        <ion-item>
          <ion-label>Remark</ion-label>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-textarea [(ngModel)]="remarksFeeder.ta4remarks_insp" placeholder="Remarks details"></ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row>
 -->

    <!-- WITNESS & EXAMINER SECTION -->
    <!-- <span *ngIf="viewWitnessExaminerTest">
    <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>WITNESS SECTION</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row>
      <ion-col col-sm-12 col-md-6 col-6>
        <ion-item>
          <ion-label color="primary">Customer agrees to sign</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-sm-12 col-md-6 col-6>
        <ion-item>
          <ion-select [(ngModel)]="customerSignature" interface="popover"
            (ionChange)="changeUiViewCustomerSignature($event)">
            <ion-option value="Yes">Yes</ion-option>
            <ion-option value="No">No</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <span *ngIf="customerSignature == 'No'">
      <ion-row>
        <ion-col col-6 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Remarks</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-6 col-sm-12 col-md-6>
          <ion-item>
            <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
              [(ngModel)]="witness.ta0witnessname"
              [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </span>

    <span *ngIf="customerSignature == 'Yes'">
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-3>
          <ion-item>
            <ion-label color="primary">Witness Name</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-9>
          <ion-item>
            <ion-input type="text" placeholder="Witness Name" [(ngModel)]="witness.ta0witnessname"
              (keyup)="outputSpeAplhaNumeric($event,'name')"
              [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-3 col-sm-3 col-md-3>
          <ion-item>
            <ion-label color="primary">Sign By</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-7 col-sm-7 col-md-7>
          <ion-item text-center no-lines>
            <signature-pad [options]="signaturePadOptions" id="signatureCanvas1" #SignaturePad1></signature-pad>
          </ion-item>
        </ion-col>
        <ion-col col-2 col-sm-2 col-md-2>
          <ion-item no-lines align-self-center>
            <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('witness')">Clear</button>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label color="primary">IC No. / Passport</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Phone No.</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessicpassport"
              (keyup)="outputAplhaNumeric($event,'icpassport')"
              [ngClass]="(witness.ta0witnessicpassport == '' || witness.ta0witnessicpassport == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessphone"
              [ngClass]="(witness.ta0witnessphone == '' || witness.ta0witnessphone == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </span>

    <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp;<strong>EXAMINER</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row>
      <ion-col col-6 col-sm-12 col-md-3>
        <ion-item>
          <ion-label color="primary">Examiner Name</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-6 col-sm-12 col-md-9>
        <ion-item>
          <ion-input type="text" placeholder="Auto Populate" [(ngModel)]="gv.displayname" [readonly]="true">
          </ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-3 col-sm-3 col-md-3>
        <ion-item>
          <ion-label color="primary">Sign By</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-7 col-sm-7 col-md-7>
        <ion-item text-center no-lines>
          <signature-pad [options]="signaturePadOptions" id="signatureCanvas2" #SignaturePad2></signature-pad>
        </ion-item>
      </ion-col>
      <ion-col col-2 col-sm-2 col-md-2>
        <ion-item no-lines align-self-center>
          <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('examiner')">Clear</button>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Staff No.</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Position</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-input type="text" placeholder="Auto Populate" [(ngModel)]="gv.username" [readonly]="true"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-input type="text" maxlength="11" placeholder="Auto Populate" [(ngModel)]="gv.employeetype"
            [readonly]="true">
          </ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Station</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-select [(ngModel)]="examinerDepartment" [selectOptions]="{title: 'Station'}" placeholder="Please select">
            <ion-option *ngFor="let station of stations" [value]="station.json.value"
              [selected]="station.json.value === examinerDepartment">{{ station.json.description }}
            </ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    </span> -->

  </div>
  <!-- End page for single phase OPC -->

  <!-- Starting for multi phase OPC -->
  <div *ngIf="deviceVoltage === dCons.VOL_LEVEL_OPC_3PH">

    <!-- PHYSICAL EXAMINATION -->
    <span *ngIf="viewPhysicalTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>PHYSICAL EXAMINATION</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetPhysical()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowPhysical()" [(ngModel)]="physical.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <span *ngIf="physical.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="physical.ta0naremarks"
                [ngClass]="(physical.ta0naremarks == '' || physical.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
      <span *ngIf="!physical.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item text-wrap>
              <ion-label color="primary">Indication at Electronic Meter Display</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" placeholder="Please enter value" [(ngModel)]="physical.ta0ts_emdisplay"
                [ngClass]="(physical.ta0ts_emdisplay == '' || physical.ta0ts_emdisplay == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Tampering Suspect</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" placeholder="Please enter value" [(ngModel)]="physical.ta0ts_meter"
                [ngClass]="(physical.ta0ts_meter == '' || physical.ta0ts_meter == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- Close Because Already Have in Sil & Sticker Page (Alif : 28/03/2019) -->
        <!-- <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" style="min-width:20%"> Terminal condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-select interface="popover" [(ngModel)]="meterCoverArray.ta0sealcondition"
              [ngClass]="(meterCoverArray.ta0sealcondition == '' || meterCoverArray.ta0sealcondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-option value="K">KOYAK</ion-option>
              <ion-option value="O">OK</ion-option>
              <ion-option value="P">PUTUS</ion-option>
              <ion-option value="T">TIDAK OK</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" style="min-width:20%"> Meter condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-select interface="popover" [(ngModel)]="terminalCoverArray.ta0sealcondition"
              [ngClass]="(terminalCoverArray.ta0sealcondition == '' || terminalCoverArray.ta0sealcondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-option value="K">KOYAK</ion-option>
              <ion-option value="O">OK</ion-option>
              <ion-option value="P">PUTUS</ion-option>
              <ion-option value="T">TIDAK OK</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Sticker Safety condition
            </ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" placeholder="Enter Safety" [(ngModel)]="sterminalCoverArray.ta0stickercondition"
              (keyup)="outputAplhaNumeric($event,'safetyCondition')"
              [ngClass]="(sterminalCoverArray.ta0stickercondition == '' || sterminalCoverArray.ta0stickercondition == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row> -->
      </span>
    </span>

    <!-- CURRENT COMPARISON -->
    <span *ngIf="viewCurrentComparisonTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>CURRENT COMPARISON</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetCurrent()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowCurrentCompare()"
              [(ngModel)]="currentCompare.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <div *ngIf="currentCompare.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="currentCompare.ta0naremarks"
                [ngClass]="(currentCompare.ta0naremarks == '' || currentCompare.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="!currentCompare.ta0na">
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col col-3 col-sm-3 col-md-3>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item>
              <ion-label color="primary" text-center>Red</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item>
              <ion-label color="primary" text-center>Yellow</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item>
              <ion-label color="primary" text-center>Blue</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item text-wrap>
              <ion-label color="primary"> Actual current reading </ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Red" [(ngModel)]="currentCompare.ta0cu_actual_r"
                (ionChange)="actualReading()" (keyup)="checkDecimalLength8($event,'actualR')"
                [ngClass]="(currentCompare.ta0cu_actual_r == '' || currentCompare.ta0cu_actual_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Yellow"
                [(ngModel)]="currentCompare.ta0cu_actual_y" (ionChange)="actualReading()"
                (keyup)="checkDecimalLength8($event,'actualY')"
                [ngClass]="(currentCompare.ta0cu_actual_y == '' || currentCompare.ta0cu_actual_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Blue" [(ngModel)]="currentCompare.ta0cu_actual_b"
                (ionChange)="actualReading()" (keyup)="checkDecimalLength8($event,'actualB')"
                [ngClass]="(currentCompare.ta0cu_actual_b == '' || currentCompare.ta0cu_actual_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item text-wrap>
              <ion-label color="primary">Display Current Reading</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Red" [(ngModel)]="currentCompare.ta0cu_disp_r"
                (ionChange)="actualReading()" (keyup)="checkDecimalLength8($event,'dispR')"
                [ngClass]="(currentCompare.ta0cu_disp_r == '' || currentCompare.ta0cu_disp_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Yellow" [(ngModel)]="currentCompare.ta0cu_disp_y"
                (ionChange)="actualReading()" (keyup)="checkDecimalLength8($event,'dispY')"
                [ngClass]="(currentCompare.ta0cu_disp_y == '' || currentCompare.ta0cu_disp_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-3 col-sm-3 col-md-3 align-self-end>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Blue" [(ngModel)]="currentCompare.ta0cu_disp_b"
                (ionChange)="actualReading()" (keyup)="checkDecimalLength8($event,'dispB')"
                [ngClass]="(currentCompare.ta0cu_disp_b == '' || currentCompare.ta0cu_disp_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item no-lines style="background: #FFCCCC;border-radius: 10px;">
              <ion-label text-center>Total</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-label color="primary">Total (Actual Current Reading)</ion-label>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label color="primary">Total (Display Current Reading)</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Total"
                [(ngModel)]="currentCompare.ta0cu_actual_total" [readonly]="true"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input type="text" maxlength="11" placeholder="Enter Total"
                [(ngModel)]="currentCompare.ta0cu_disp_total" [readonly]="true"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row col-12 col-sm-12 col-md-12>
          <ion-col>
            <ion-item>
              <ion-label color="primary">% Current Difference</ion-label>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input type="text" placeholder="Current Difference" [readonly]="true"
                [(ngModel)]="currentCompare.ta0cu_difference"
                [ngClass]="(currentCompare.ta0cu_difference == '' || currentCompare.ta0cu_difference == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row col-12 col-sm-12 col-md-12>
          <ion-item no-lines>
            <ion-label style=" font-style:italic;">*(Display Current-Actual Current/Actual Current)*100</ion-label>
          </ion-item>
        </ion-row>
      </div>
    </span>

    <!-- TERMINAL METER POLARITY -->
    <span *ngIf="viewPolarityTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>TERMINAL METER POLARITY TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetTerminal()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowPolarity()" [(ngModel)]="polarity.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <div *ngIf="polarity.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="polarity.ta0naremarks"
                [ngClass]="(polarity.ta0naremarks == '' || polarity.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="!polarity.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item>
              <ion-label color="primary">Red</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item style="padding-left: 0px;"
              [ngClass]="(polarity.ta0po_tm_r == '' || polarity.ta0po_tm_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-select interface="popover" [(ngModel)]="polarity.ta0po_tm_r">
                <ion-option value="Y">Yes</ion-option>
                <ion-option value="T">No</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item>
              <ion-label color="primary">Yellow</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item style="padding-left: 0px;"
              [ngClass]="(polarity.ta0po_tm_y == '' || polarity.ta0po_tm_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-select interface="popover" [(ngModel)]="polarity.ta0po_tm_y">
                <ion-option value="Y">Yes</ion-option>
                <ion-option value="T">No</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item>
              <ion-label color="primary">Blue</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item style="padding-left: 0px;"
              [ngClass]="(polarity.ta0po_tm_b == '' || polarity.ta0po_tm_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-select interface="popover" [(ngModel)]="polarity.ta0po_tm_b">
                <ion-option value="Y">Yes</ion-option>
                <ion-option value="T">No</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item>
              <ion-label color="primary">Neutral</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item style="padding-left: 0px;"
              [ngClass]="(polarity.ta0po_tm_n == '' || polarity.ta0po_tm_n == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              <ion-select interface="popover" [(ngModel)]="polarity.ta0po_tm_n">
                <ion-option value="Y">Yes</ion-option>
                <ion-option value="T">No</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
    </span>

    <!-- MAGNET TEST -->
    <span *ngIf="viewMagnetTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp; <strong>MAGNET TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetMagnet()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowMagnet()" [(ngModel)]="magnet.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <span *ngIf="magnet.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="magnet.ta0naremarks"
                [ngClass]="(magnet.ta0naremarks == '' || magnet.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
      <span *ngIf="!magnet.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Results</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-select interface="popover" [(ngModel)]="magnet.loc_ta0mt_magnet_result" placeholder="Choose value"
                (ionChange)="changeUiViewMagentTest($event)">
                <ion-option value=""></ion-option>
                <ion-option value="Ada">Ada</ion-option>
                <ion-option value="Tiada">Tiada</ion-option>
                <ion-option value="Lain2">Lain-lain</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="magnetMeter">
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="magnet.ta0mt_magnet_result"
                [ngClass]="(magnet.ta0mt_magnet_result == '' || magnet.ta0mt_magnet_result == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </span>
    </span>

    <!-- ACCURACY TEST -->
    <span *ngIf="viewAccuracyTest">
      <ion-item-divider color="light">
        <ion-row align-items-center>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>ACCURACY TEST</strong>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
            <button ion-button small round mode="md" (click)="resetAccuracy()" style="opacity: unset;"
              text-end>Reset</button>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Not Applicable</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-select interface="popover" (ionChange)="hideShowMeter()" [(ngModel)]="accuracy3P.loc_test_ta0na">
              <ion-option value="Y">Yes</ion-option>
              <ion-option value="N">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <div *ngIf="accuracy3P.ta0na">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="accuracy3P.ta0naremarks"
                [ngClass]="(accuracy3P.ta0naremarks == '' || accuracy3P.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>
      <div *ngIf="!accuracy3P.ta0na">

        <!-- Segment -->
        <ion-row style="padding-top: 15px;padding-left: 15px;">
          <ion-col col-sm-12 col-md-12 col-12>
            <ion-segment [(ngModel)]="valueChangeAccuracy">
              <ion-segment-button value="before">
                Before
              </ion-segment-button>
              <ion-segment-button value="after">
                After
              </ion-segment-button>
            </ion-segment>
          </ion-col>
        </ion-row>

        <div [ngSwitch]="valueChangeAccuracy">
          <div *ngSwitchCase="'before'">
            <ion-row>
              <ion-col col-6 col-sm-12 col-md-3>
                <ion-item>
                  <ion-label color="primary" style="min-width:20%">Accuracy Type</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-6 col-sm-12 col-md-9>
                <ion-item
                  [ngClass]="(accuracy3P.ta0testind == '' || accuracy3P.ta0testind == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                  <ion-select interface="popover" (ionChange)="hideAccuracy3Phase()"
                    [(ngModel)]="accuracy3P.ta0testind">
                    <ion-option value="P">Portable</ion-option>
                    <ion-option value="M">Manual</ion-option>
                  </ion-select>
                </ion-item>
              </ion-col>
            </ion-row>
            <div *ngIf="portable">
              <ion-row>
                <ion-col col-3 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Portable Test Set </ion-label>>
                  </ion-item>
                </ion-col>
                <ion-col col-8 col-sm-12 col-md-8>
                  <ion-item>
                    <ion-input type="text" maxlength="18" placeholder="Serial No."
                      [(ngModel)]="accuracy3P.ta0at_pteserialnum" (keyup)="outputAplhaNumeric($event,'ptSerialNo')"
                      [ngClass]="(accuracy3P.ta0at_pteserialnum == '' || accuracy3P.ta0at_pteserialnum == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-1 col-sm-1 col-md-1>
                  <button ion-button (click)="barcodeScan('3phase')">
                    <ion-icon name="barcode" item-right></ion-icon>
                  </button>
                </ion-col>
              </ion-row>

              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Red</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Yellow</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Blue</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>

              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Voltage</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Enter Red" [(ngModel)]="accuracy3P.ta0at_voltage_r"
                      (keyup)="checkDecimalLength8($event,'voltageR')"
                      [ngClass]="(accuracy3P.ta0at_voltage_r == '' || accuracy3P.ta0at_voltage_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Enter Yellow" [(ngModel)]="accuracy3P.ta0at_voltage_y"
                      (keyup)="checkDecimalLength8($event,'voltageY')"
                      [ngClass]="(accuracy3P.ta0at_voltage_y == '' || accuracy3P.ta0at_voltage_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" placeholder="Enter Blue" [(ngModel)]="accuracy3P.ta0at_voltage_b"
                      (keyup)="checkDecimalLength8($event,'voltageB')"
                      [ngClass]="(accuracy3P.ta0at_voltage_b == '' || accuracy3P.ta0at_voltage_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Current</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Red"
                      [(ngModel)]="accuracy3P.ta0at_current_r" (keyup)="checkDecimalLength8($event,'currentR')"
                      [ngClass]="(accuracy3P.ta0at_current_r == '' || accuracy3P.ta0at_current_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Yellow"
                      [(ngModel)]="accuracy3P.ta0at_current_y" (keyup)="checkDecimalLength8($event,'currentY')"
                      [ngClass]="(accuracy3P.ta0at_current_y == '' || accuracy3P.ta0at_current_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Blue"
                      [(ngModel)]="accuracy3P.ta0at_current_b" (keyup)="checkDecimalLength8($event,'currentB')"
                      [ngClass]="(accuracy3P.ta0at_current_b == '' || accuracy3P.ta0at_current_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>

              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Power (W)</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Red" [(ngModel)]="accuracy3P.ta0at_power_r"
                      (keyup)="checkDecimalLength8($event,'PWR')"
                      [ngClass]="(accuracy3P.ta0at_power_r == '' || accuracy3P.ta0at_power_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Yellow"
                      [(ngModel)]="accuracy3P.ta0at_power_y" (keyup)="checkDecimalLength8($event,'PWY')"
                      [ngClass]="(accuracy3P.ta0at_power_y == '' || accuracy3P.ta0at_power_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Blue"
                      [(ngModel)]="accuracy3P.ta0at_power_b" (keyup)="checkDecimalLength8($event,'PWB')"
                      [ngClass]="(accuracy3P.ta0at_power_b == '' || accuracy3P.ta0at_power_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Power Factor</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Red"
                      [(ngModel)]="accuracy3P.ta0at_powerfactor_r" (keyup)="checkNegative($event,'PRR')"
                      [ngClass]="(accuracy3P.ta0at_powerfactor_r == '' || accuracy3P.ta0at_powerfactor_r == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Yellow"
                      [(ngModel)]="accuracy3P.ta0at_powerfactor_y" (keyup)="checkNegative($event,'PRY')"
                      [ngClass]="(accuracy3P.ta0at_powerfactor_y == '' || accuracy3P.ta0at_powerfactor_y == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Blue"
                      [(ngModel)]="accuracy3P.ta0at_powerfactor_b" (keyup)="checkNegative($event,'PRB')"
                      [ngClass]="(accuracy3P.ta0at_powerfactor_b == '' || accuracy3P.ta0at_powerfactor_b == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item no-lines></ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 1</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 2</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 3</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value" [(ngModel)]="accuracy3P.ta0at_test1"
                      (ionChange)="errorAvg()" (keyup)="checkNegative($event,'error1')"
                      [ngClass]="(accuracy3P.ta0at_test1 == '' || accuracy3P.ta0at_test1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value" [(ngModel)]="accuracy3P.ta0at_test2"
                      (ionChange)="errorAvg()" (keyup)="checkNegative($event,'error2')"
                      [ngClass]="(accuracy3P.ta0at_test2 == '' || accuracy3P.ta0at_test2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value" [(ngModel)]="accuracy3P.ta0at_test3"
                      (ionChange)="errorAvg()" (keyup)="checkNegative($event,'error3')"
                      [ngClass]="(accuracy3P.ta0at_test3 == '' || accuracy3P.ta0at_test3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error Average</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-9>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="%Error average" [readonly]="true"
                      [(ngModel)]="accuracy3P.ta0at_avg"></ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </div>
            <div *ngIf="!portable">
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>First</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Second</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary" text-center>Third</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Time Calculated</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter First"
                      [(ngModel)]="accuracy3P.ta0at_timecalc_1" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3TC1')"
                      [ngClass]="(accuracy3P.ta0at_timecalc_1 == '' || accuracy3P.ta0at_timecalc_1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Second"
                      [(ngModel)]="accuracy3P.ta0at_timecalc_2" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3TC2')"
                      [ngClass]="(accuracy3P.ta0at_timecalc_2 == '' || accuracy3P.ta0at_timecalc_2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter Third"
                      [(ngModel)]="accuracy3P.ta0at_timecalc_3" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3TC3')"
                      [ngClass]="(accuracy3P.ta0at_timecalc_3 == '' || accuracy3P.ta0at_timecalc_3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">Real Time</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value"
                      [(ngModel)]="accuracy3P.ta0at_timemeas_1" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3RT1')"
                      [ngClass]="(accuracy3P.ta0at_timemeas_1 == '' || accuracy3P.ta0at_timemeas_1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value"
                      [(ngModel)]="accuracy3P.ta0at_timemeas_2" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3RT2')"
                      [ngClass]="(accuracy3P.ta0at_timemeas_2 == '' || accuracy3P.ta0at_timemeas_2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Enter value"
                      [(ngModel)]="accuracy3P.ta0at_timemeas_3" (ionChange)="errorManual()"
                      (keyup)="checkDecimalLength8($event,'3RT3')"
                      [ngClass]="(accuracy3P.ta0at_timemeas_3 == '' || accuracy3P.ta0at_timemeas_3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item no-lines></ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 1</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 2</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item text-center>
                    <ion-label color="primary">Error 3</ion-label>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Auto Calculation"
                      [(ngModel)]="accuracy3P.ta0at_test1" [readonly]="true"
                      [ngClass]="(accuracy3P.ta0at_test1 == '' || accuracy3P.ta0at_test1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Auto Calculation"
                      [(ngModel)]="accuracy3P.ta0at_test2" [readonly]="true"
                      [ngClass]="(accuracy3P.ta0at_test2 == '' || accuracy3P.ta0at_test2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
                <ion-col col-3 col-sm-3 col-md-3>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="Auto Calculation"
                      [(ngModel)]="accuracy3P.ta0at_test3" [readonly]="true"
                      [ngClass]="(accuracy3P.ta0at_test3 == '' || accuracy3P.ta0at_test3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                    </ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
              <ion-row col-12 col-sm-12 col-md-12>
                <ion-col col-12 col-sm-12 col-md-3>
                  <ion-item>
                    <ion-label color="primary">% Error Average</ion-label>
                  </ion-item>
                </ion-col>
                <ion-col col-12 col-sm-12 col-md-9>
                  <ion-item>
                    <ion-input type="text" maxlength="11" placeholder="%Error average" [readonly]="true"
                      [(ngModel)]="accuracy3P.ta0at_avg"></ion-input>
                  </ion-item>
                </ion-col>
              </ion-row>
            </div>

          </div>
          <div *ngSwitchCase="'after'">
            <!-- Current Date: Start -->
            <ion-row>
              <ion-col>
                <ion-item>
                  <ion-label color="primary">Date</ion-label>
                </ion-item>
              </ion-col>
              <ion-col>
                <ion-item>
                  <ion-datetime [(ngModel)]="accuracy3P_N.ta4ma_date" max="3000-12-31" displayFormat="DD/MM/YYYY"
                    pickerFormat="DD:MM:YYYY" placeholder="Tap to select.." style="padding: 0px;">
                  </ion-datetime>
                </ion-item>
              </ion-col>
            </ion-row>
            <!-- Current Date: End -->
            <ion-row>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 1</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 2</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Test 3</ion-label>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-label color="primary">Average</ion-label>
                </ion-item>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test1" [(ngModel)]="accuracy3P_N.ta4ma_test1"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" placeholder="Enter value"
                    [ngClass]="(accuracy3P_N.ta4ma_test1 == '' || accuracy3P_N.ta4ma_test1 == undefined && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test2" [(ngModel)]="accuracy3P_N.ta4ma_test2"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" maxlength="13" placeholder="Enter value"
                    [ngClass]="(accuracy3P_N.ta4ma_test2 == '' || accuracy3P_N.ta4ma_test2 == undefined && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="test3" [(ngModel)]="accuracy3P_N.ta4ma_test3"
                    (ionChange)="calculateAfterAccuracyTest()" type="number" maxlength="13" placeholder="Enter value"
                    [ngClass]="(accuracy3P_N.ta4ma_test3 == '' || accuracy3P_N.ta4ma_test3 == undefined && !validateAtTest) ? 'redHighlightText' : 'blackHighlightText'">
                  </ion-input>
                </ion-item>
              </ion-col>
              <ion-col col-12 col-sm-6 col-md-3>
                <ion-item>
                  <ion-input id="average" [(ngModel)]="accuracy3P_N.ta4ma_avg" type="number" readonly
                    placeholder="Auto Calculate"></ion-input>
                </ion-item>
              </ion-col>
            </ion-row>
          </div>
        </div>
      </div>
    </span>

    <!-- Inspection Remarks  -->
    <!-- Added : Ameer (11/4/2019) -->
    <!-- <ion-item-divider color="light">
      <ion-row>
        <ion-col>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>INSPECTION REMARK</strong>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row col-12 col-md-12 col-sm-12>
      <ion-col>
        <ion-item>
          <ion-label>Remark</ion-label>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-textarea [(ngModel)]="remarksFeeder.ta4remarks_insp" placeholder="Remarks details"></ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row> -->
    <!-- TAMPERING ANOMLY -->
    <!-- <ion-item-divider color="light">
      <ion-icon name="flask"></ion-icon>&nbsp;<strong>TAMPERING ANOMLY</strong>
    </ion-item-divider>
    <ion-row>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Not Applicable</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-select interface="popover" [(ngModel)]="tampering.loc_test_ta0na" (ionChange)="hideShowTampering()">
            <ion-option value="Y">Yes</ion-option>
            <ion-option value="N">No</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <div *ngIf="tampering.ta0na">
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Remarks</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
              [(ngModel)]="tampering.ta0naremarks"
              [ngClass]="(tampering.ta0naremarks == '' || tampering.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
    <div *ngIf="!tampering.ta0na">
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Main</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalymain" [readonly]="true"
              [ngClass]="(tampering.ta0anomalymain == '' || tampering.ta0anomalymain == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('main')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Category</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalycategory" [readonly]="true"
              [ngClass]="(tampering.ta0anomalycategory == '' || tampering.ta0anomalycategory == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('category')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Type</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="tampering.ta0anomalytype" [readonly]="true"
              [ngClass]="(tampering.ta0anomalytype == '' || tampering.ta0anomalytype == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('type')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </div> -->

    <!-- CORRECTIVE ACTION -->
    <!-- <ion-item-divider color="light">
      <ion-icon name="flask"></ion-icon>&nbsp;<strong>CORRECTIVE ACTION</strong>
    </ion-item-divider>
    <ion-row>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Not Applicable</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-6>
        <ion-item>
          <ion-select interface="popover" (ionChange)="hideShowCorrective()" [(ngModel)]="corrective.loc_test_ta0na">
            <ion-option value="Y">Yes</ion-option>
            <ion-option value="N">No</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <div *ngIf="corrective.ta0na">
      <ion-row>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Remarks</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-6>
          <ion-item>
            <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
              [(ngModel)]="corrective.ta0naremarks"
              [ngClass]="(corrective.ta0naremarks == '' || corrective.ta0naremarks == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
    <div *ngIf="!corrective.ta0na">
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Action</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input [(ngModel)]="corrective.ta0at_corrective_action" [readonly]="true"
              [ngClass]="(corrective.ta0at_corrective_action == '' || corrective.ta0at_corrective_action == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-1 col-sm-1 col-md-1>
          <button ion-button (click)="searchLookUp('corrective')">
            <ion-icon name="search" item-right></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary" text-center text-uppercase>Accuracy Test After Corrective Action</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">% Error 1</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="%Error 1" [(ngModel)]="corrective.ta0at_test1"
              (keyup)="checkNegative($event,'correctiveErr1')"
              [ngClass]="(corrective.ta0at_test1 == '' || corrective.ta0at_test1 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">% Error 2</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="%Error 2" [(ngModel)]="corrective.ta0at_test2"
              (keyup)="checkNegative($event,'correctiveErr2')"
              [ngClass]="(corrective.ta0at_test2 == '' || corrective.ta0at_test2 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">% Error 3</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="%Error 3" [(ngModel)]="corrective.ta0at_test3"
              (keyup)="checkNegative($event,'correctiveErr3')"
              [ngClass]="(corrective.ta0at_test3 == '' || corrective.ta0at_test3 == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </div>
 -->


    <!-- WITNESS & EXAMINER SECTION -->
    <!-- <span *ngIf="viewWitnessExaminerTest">
      <ion-item-divider color="light">
        <ion-row>
          <ion-col>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>WITNESS SECTION</strong>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row>
        <ion-col col-sm-12 col-md-6 col-6>
          <ion-item>
            <ion-label color="primary">Customer agrees to sign</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-sm-12 col-md-6 col-6>
          <ion-item>
            <ion-select [(ngModel)]="customerSignature" interface="popover"
              (ionChange)="changeUiViewCustomerSignature($event)">
              <ion-option value="Yes">Yes</ion-option>
              <ion-option value="No">No</ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>

      <div *ngIf="customerSignature == 'No'">
        <ion-row>
          <ion-col col-6 col-sm-12 col-md-6>
            <ion-item>
              <ion-label color="primary">Remarks</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-6 col-sm-12 col-md-6>
            <ion-item>
              <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
                [(ngModel)]="witness.ta0witnessname"
                [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>

      <div *ngIf="customerSignature == 'Yes'">
        <ion-row>
          <ion-col col-12 col-sm-12 col-md-3>
            <ion-item>
              <ion-label color="primary">Witness Name</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-12 col-sm-12 col-md-9>
            <ion-item>
              <ion-input type="text" placeholder="Witness Name" [(ngModel)]="witness.ta0witnessname"
                (keyup)="outputSpeAplhaNumeric($event,'name')"
                [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-3 col-sm-3 col-md-3>
            <ion-item>
              <ion-label color="primary">Sign By</ion-label>
            </ion-item>
          </ion-col>
          <ion-col col-7 col-sm-7 col-md-7>
            <ion-item text-center no-lines>
              <signature-pad [options]="signaturePadOptions" id="signatureCanvas1" #SignaturePad1></signature-pad>
            </ion-item>
          </ion-col>
          <ion-col col-2 col-sm-2 col-md-2>
            <ion-item no-lines align-self-center>
              <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('witness')">Clear</button>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary">IC No. / Passport</ion-label>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-label color="primary">Phone No.</ion-label>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item>
              <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessicpassport"
                (keyup)="outputAplhaNumeric($event,'icpassport')"
                [ngClass]="(witness.ta0witnessicpassport == '' || witness.ta0witnessicpassport == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item>
              <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessphone"
                [ngClass]="(witness.ta0witnessphone == '' || witness.ta0witnessphone == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </div>

      <ion-item-divider color="light">
        <ion-row>
          <ion-col>
            <ion-icon name="flask"></ion-icon>&nbsp;<strong>EXAMINER SECTION</strong>
          </ion-col>
        </ion-row>
      </ion-item-divider>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col col-12 col-sm-12 col-md-3>
          <ion-item>
            <ion-label color="primary">Examiner Name</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-9>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="Auto Populate" [(ngModel)]="gv.displayname"
              [readonly]="true"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col col-3 col-sm-3 col-md-3>
          <ion-item>
            <ion-label color="primary">Sign By</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-7 col-sm-7 col-md-7>
          <ion-item text-center no-lines>
            <signature-pad [options]="signaturePadOptions" id="signatureCanvas2" #SignaturePad2></signature-pad>
          </ion-item>
        </ion-col>
        <ion-col col-2 col-sm-2 col-md-2>
          <ion-item no-lines align-self-center>
            <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('examiner')">Clear</button>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Staff No.</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Position</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row col-12 col-sm-12 col-md-12>
        <ion-col>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="Auto Populate" [(ngModel)]="lead" [readonly]="true">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input type="text" maxlength="11" placeholder="Auto Populate" [(ngModel)]="gv.employeetype"
              [readonly]="true">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-6 col-sm-12 col-md-6>
          <ion-item>
            <ion-label color="primary">Station</ion-label>
          </ion-item>
        </ion-col>
        <ion-col col-6 col-sm-12 col-md-6>
          <ion-item>
            <ion-select [(ngModel)]="examinerDepartment" [selectOptions]="{title: 'Station'}"
              placeholder="Please select">
              <ion-option *ngFor="let station of stations" [value]="station.json.value"
                [selected]="station.json.value === examinerDepartment">{{ station.json.description }}
              </ion-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
    </span> -->
  </div>
  <!-- End page for multi phase OPC  -->


  <!-- METER RESGITER TEST SECTION -->
  <span *ngIf="viewMeterRegisterTest">
    <ion-item-divider color="light">
      <ion-row align-items-center>
        <ion-col col-12 col-sm-12 col-md-9>
          <ion-icon name="flask"></ion-icon>&nbsp; <strong>METER REGISTER TEST</strong>
        </ion-col>
        <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
          <button ion-button small round mode="md" (click)="resetMeter()" style="opacity: unset;"
            text-end>Reset</button>
        </ion-col>
      </ion-row>
    </ion-item-divider>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label color="primary">
            Portable Test Set:
          </ion-label>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-input placeholder="Please enter" [(ngModel)]="meterRegister.ta4pts"
            [ngClass]="(meterRegister.ta4pts == '' || meterRegister.ta4pts == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
          </ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row col-12 col-md-12 col-sm-12>
      <ion-segment [(ngModel)]="valueChangeRegisterTest">
        <ion-segment-button value="before">
          Before
        </ion-segment-button>
        <ion-segment-button value="after">
          After
        </ion-segment-button>
      </ion-segment>
    </ion-row>
    <div [ngSwitch]="valueChangeRegisterTest">
      <div *ngSwitchCase="'before'">
        <div *ngFor="let attr of meterRegisterBefore; let j = index">
          <ion-row col-12 col-sm-12 col-md-12>
            <ion-col>
              <ion-item no-lines style="background: #FFCCCC;border-radius: 10px;">
                <ion-label> Test {{ j + 1 }} </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label color="primary">Start</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">End</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">Usage</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">% Error</ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_start" placeholder="Please enter"
                  (ionChange)="autoCalculateMeterRegisterUsage(attr)"
                  [ngClass]="(attr.ta4ma_reg_start == '' || attr.ta4ma_reg_start == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_stop" placeholder="Please enter"
                  (ionChange)="autoCalculateMeterRegisterUsage(attr)"
                  [ngClass]="(attr.ta4ma_reg_stop == '' || attr.ta4ma_reg_stop == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_usage" placeholder="Auto Calculate"
                  [disabled]="true">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_error" placeholder="Please enter"
                  [ngClass]="(attr.ta4ma_reg_error == '' || attr.ta4ma_reg_error == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
        </div>
        <!-- Only Test 1 -->
        <!-- <ion-row>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Start</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">End</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Usage</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterBf.ta4ma_reg_start"
              (ionChange)="registerCalc()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterBf.ta4ma_reg_stop"
              (ionChange)="registerCalc()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterBf.ta4ma_reg_usage" [disabled]="true">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label color="primary">%Error</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterBf.ta4ma_reg_error">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row> -->
      </div>
      <span *ngSwitchCase="'after'">
        <div *ngFor="let attr of meterRegisterAfter; let j = index">
          <ion-row col-12 col-sm-12 col-md-12>
            <ion-col>
              <ion-item no-lines style="background: #FFCCCC;border-radius: 10px;">
                <ion-label> Test {{ j + 1 }} </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label color="primary">Start</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">End</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">Usage</ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label color="primary">% Error</ion-label>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_start" placeholder="Please enter"
                  (ionChange)="autoCalculateMeterRegisterUsage(attr)"
                  [ngClass]="(attr.ta4ma_reg_start == '' || attr.ta4ma_reg_start == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_stop" placeholder="Please enter"
                  (ionChange)="autoCalculateMeterRegisterUsage(attr)"
                  [ngClass]="(attr.ta4ma_reg_stop == '' || attr.ta4ma_reg_stop == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_usage" placeholder="Auto Calculate"
                  [disabled]="true">
                </ion-input>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item>
                <ion-input type="number" [(ngModel)]="attr.ta4ma_reg_error" placeholder="Please enter"
                  [ngClass]="(attr.ta4ma_reg_error == '' || attr.ta4ma_reg_error == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
        </div>
        <!-- Only 1 Test -->
        <!-- <ion-row>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Start</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">End</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-label color="primary">Usage</ion-label>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterAf.ta4ma_reg_start"
              (ionChange)="registerCalc()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterAf.ta4ma_reg_stop"
              (ionChange)="registerCalc()">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterAf.ta4ma_reg_usage" [disabled]="true">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label color="primary">%Error</ion-label>
          </ion-item>
        </ion-col>
        <ion-col>
          <ion-item>
            <ion-input placeholder="Please enter" [(ngModel)]="meterRegisterAf.ta4ma_reg_error">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row> -->
      </span>
    </div>
  </span>

  <!-- WITNESS & EXAMINER SECTION -->
  <!-- <span *ngIf="viewWitnessExaminerTest"> -->
  <ion-item-divider color="light">
    <ion-row align-items-center>
      <ion-col col-12 col-sm-12 col-md-9>
        <ion-icon name="flask"></ion-icon>&nbsp; <strong>WITNESS SECTION</strong>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
        <button ion-button small round mode="md" (click)="resetWitness()" style="opacity: unset;"
          text-end>Reset</button>
      </ion-col>
    </ion-row>
  </ion-item-divider>
  <ion-row>
    <ion-col col-sm-12 col-md-6 col-6>
      <ion-item>
        <ion-label color="primary">Customer agrees to sign</ion-label>
      </ion-item>
    </ion-col>
    <ion-col col-sm-12 col-md-6 col-6>
      <ion-item>
        <ion-select [(ngModel)]="customerSignature" interface="popover" (ionChange)="changeUiViewCustomerSignature()">
          <ion-option value="Yes">Yes</ion-option>
          <ion-option value="No">No</ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>

  <span *ngIf="customerSignature == 'No'">
    <ion-row>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-label color="primary">Remarks</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-6 col-sm-12 col-md-6>
        <ion-item>
          <ion-textarea rows="4" type="text" maxlength="40" placeholder="Please Enter Remark"
            [(ngModel)]="witness.ta0witnessname"
            [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
          </ion-textarea>
        </ion-item>
      </ion-col>
    </ion-row>
  </span>

  <span *ngIf="customerSignature == 'Yes'">
    <ion-row>
      <ion-col col-12 col-sm-12 col-md-3>
        <ion-item>
          <ion-label color="primary">Witness Name</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-9>
        <ion-item>
          <ion-input type="text" placeholder="Witness Name" [(ngModel)]="witness.ta0witnessname"
            (keyup)="outputSpeAplhaNumeric($event,'name')"
            [ngClass]="(witness.ta0witnessname == '' || witness.ta0witnessname == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
          </ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-3 col-sm-3 col-md-3>
        <ion-item>
          <ion-label color="primary">Sign By</ion-label>
        </ion-item>
      </ion-col>
      <ion-col col-7 col-sm-7 col-md-7>
        <ion-item text-center no-lines>
          <signature-pad [options]="signaturePadOptions" id="signatureCanvas1" #SignaturePad1></signature-pad>
        </ion-item>
      </ion-col>
      <ion-col col-2 col-sm-2 col-md-2>
        <ion-item no-lines align-self-center>
          <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('witness')">Clear</button>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label color="primary">IC No. / Passport</ion-label>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-label color="primary">Phone No.</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item>
          <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessicpassport"
            (keyup)="outputAplhaNumeric($event,'icpassport')"
            [ngClass]="(witness.ta0witnessicpassport == '' || witness.ta0witnessicpassport == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
          </ion-input>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-item>
          <ion-input type="text" placeholder="Enter value" [(ngModel)]="witness.ta0witnessphone"
            [ngClass]="(witness.ta0witnessphone == '' || witness.ta0witnessphone == undefined && !allowSave) ? 'redHighlightText' : 'blackHighlightText'">
          </ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
  </span>

  <ion-item-divider color="light">
    <ion-row align-items-center>
      <ion-col col-12 col-sm-12 col-md-9>
        <ion-icon name="flask"></ion-icon>&nbsp;<strong>EXAMINER SECTION</strong>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-3 style="text-align: right;">
        <button ion-button small round mode="md" (click)="resetExaminer()" style="opacity: unset;"
          text-end>Reset</button>
      </ion-col>
    </ion-row>
  </ion-item-divider>
  <ion-row>
    <ion-col>
      <ion-item>
        <ion-label color="primary" stacked>Examiner Name</ion-label>
        <ion-input type="text" placeholder="Auto Populate" [(ngModel)]="gv.displayname" [readonly]="true"></ion-input>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-3 col-sm-3 col-md-3>
      <ion-item>
        <ion-label color="primary">Sign By</ion-label>
      </ion-item>
    </ion-col>
    <ion-col col-7 col-sm-7 col-md-7>
      <ion-item text-center [ngClass]="(warningFlag) ? 'redHighlightText' : 'blackHighlightText'">
        <signature-pad [options]="signaturePadOptions" id="signatureCanvas2" #SignaturePad2></signature-pad>
      </ion-item>
    </ion-col>
    <ion-col col-2 col-sm-2 col-md-2>
      <ion-item no-lines align-self-center>
        <button ion-button round mode="md" color="buttonlightColor" (click)="clearSign('examiner')">Clear</button>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-6 col-sm-12 col-md-6>
      <ion-item>
        <ion-label color="primary" stacked>Staff No.</ion-label>
        <ion-input type="text" placeholder="Auto Populate" [(ngModel)]="gv.username" [readonly]="true"></ion-input>
      </ion-item>
    </ion-col>
    <ion-col col-6 col-sm-12 col-md-6>
      <ion-item>
        <ion-label color="primary" stacked>Position</ion-label>
        <ion-input type="text" maxlength="11" placeholder="Auto Populate" [(ngModel)]="gv.employeetype"
          [readonly]="true"></ion-input>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-6 col-sm-12 col-md-6>
      <ion-item>
        <ion-label color="primary">Station</ion-label>
      </ion-item>
    </ion-col>
    <ion-col col-6 col-sm-12 col-md-6>
      <ion-item>
        <ion-select [(ngModel)]="examinerDepartment" [selectOptions]="{title: 'Station'}" placeholder="Please select">
          <ion-option *ngFor="let station of stations" [value]="station.json.value"
            [selected]="station.json.value === examinerDepartment">{{ station.json.description }}
          </ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
  </ion-row>
  <!-- </span> -->
</ion-content>

<ion-footer mode="md">
  <ion-toolbar mode="md">
    <ion-row>
      <ion-col>
        <button ion-button round block mode="md" (click)="saveDetails()">
          Save
        </button>
      </ion-col>
      <ion-col>
        <button ion-button round block mode="md" (click)="goBack()">
          Cancel
        </button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>